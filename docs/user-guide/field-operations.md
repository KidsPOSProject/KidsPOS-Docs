# KidsPOS 現場運用ガイド

## 概要
このガイドは、KidsPOSシステムを実際の現場で運用するスタッフ向けの操作手順書です。

## 基本操作

### システム起動
1. **サーバーの起動確認**
   - サーバー機器の電源投入
   - ネットワーク接続の確認
   - ブラウザで `http://[サーバーIP]:8080/health` にアクセス

2. **Android端末の起動**
   - 各端末の電源を入れる
   - WiFi接続を確認
   - KidsPOSアプリを起動

### 日次開始手順
```
1. サーバー状態確認
2. 全端末の動作確認
3. ネットワーク疎通確認
4. 当日の設定確認
```

## QRコード読み取り操作

### 基本的な読み取り手順
1. **カメラの起動**
   - アプリのQRコードスキャナーを起動
   - カメラ権限の確認

2. **読み取り操作**
   - QRコードを画面中央に配置
   - 自動でスキャンが開始
   - 成功時は音声フィードバック

3. **データ送信**
   - 読み取り結果がサーバーに自動送信
   - 送信成功の確認表示

### トラブル時の対処
- **読み取りができない場合**
  ```
  • カメラレンズの清掃
  • 照明の調整
  • QRコードの角度調整
  • アプリの再起動
  ```

- **送信エラーの場合**
  ```
  • ネットワーク接続確認
  • サーバー状態確認
  • 再送信ボタンの使用
  ```

## データ管理

### 取引データの確認
1. **リアルタイム状況**
   - アプリ内の統計画面で確認
   - 処理件数、エラー件数の表示

2. **詳細データの確認**
   - 管理者画面でのデータ閲覧
   - 時間別、端末別の集計

### データ同期
- **自動同期**: 通常は自動でサーバーと同期
- **手動同期**: ネットワーク問題時の手動同期機能
- **オフライン対応**: 一時的な接続断時の対処

## エラー対応

### 一般的なエラーと対処法

#### 1. 接続エラー
**症状**: サーバーに接続できない
**対処法**:
```
1. WiFi接続の確認
2. サーバーの稼働状況確認
3. ネットワーク機器の再起動
4. アプリの再起動
```

#### 2. カメラエラー
**症状**: QRコード読み取りができない
**対処法**:
```
1. カメラ権限の確認
2. 他のカメラアプリとの競合確認
3. 端末の再起動
4. アプリの再インストール
```

#### 3. データ送信エラー
**症状**: 読み取りデータが送信されない
**対処法**:
```
1. ネットワーク接続の確認
2. サーバーの負荷状況確認
3. データの手動再送信
4. ローカルバックアップの確認
```

## 運用チェックリスト

### 開始時チェック（毎日）
- [ ] サーバー起動確認
- [ ] 全端末動作確認
- [ ] ネットワーク接続確認
- [ ] 前日データの同期確認
- [ ] バックアップ状況確認

### 運用中チェック（1時間毎）
- [ ] 各端末の正常動作確認
- [ ] エラーログの確認
- [ ] データ同期状況確認
- [ ] システム負荷状況確認

### 終了時チェック（毎日）
- [ ] 当日データの最終同期
- [ ] エラーレポートの確認
- [ ] バックアップの実行
- [ ] 翌日の準備確認

## パフォーマンス最適化

### 推奨設定
```json
{
  "sync_interval": 30,
  "cache_size": "100MB",
  "auto_backup": true,
  "error_retry": 3
}
```

### 監視項目
- **レスポンス時間**: < 2秒
- **成功率**: > 99%
- **メモリ使用量**: < 80%
- **ストレージ使用量**: < 70%

## セキュリティ対策

### 基本的な対策
1. **アクセス制御**
   - 管理者権限の適切な設定
   - 不要なアプリのインストール禁止

2. **データ保護**
   - 定期的なパスワード変更
   - データの暗号化確認

3. **ネットワークセキュリティ**
   - WiFiのセキュリティ設定
   - 不審なアクセスの監視

## 緊急時対応

### 緊急時の連絡体制
```
レベル1: 現場スタッフ対応
レベル2: システム管理者への連絡
レベル3: 技術サポートへのエスカレーション
```

### 緊急時対応手順
1. **問題の特定**
   - 症状の記録
   - 発生時刻の記録
   - 影響範囲の確認

2. **一次対応**
   - システムの再起動
   - 代替手順への切り替え
   - 現場での応急処置

3. **エスカレーション**
   - 技術チームへの連絡
   - ログファイルの収集
   - 詳細情報の提供

## よくある質問（FAQ）

### Q1: アプリが固まってしまった場合は？
**A**: 以下の順番で対処してください
1. アプリの強制終了と再起動
2. 端末の再起動
3. WiFi接続の再設定
4. 技術サポートへの連絡

### Q2: データが消えてしまった場合は？
**A**: 
1. 慌てずに操作を停止
2. 他の端末での同期状況確認
3. サーバー側データの確認
4. バックアップからの復旧

### Q3: 新しい端末を追加したい場合は？
**A**:
1. 管理者への事前相談
2. 端末設定の実施
3. 接続テストの実行
4. スタッフへの操作説明

## 付録

### 連絡先一覧
- **現場責任者**: [連絡先]
- **システム管理者**: [連絡先]  
- **技術サポート**: [連絡先]

### 参考資料
- [トラブルシューティングガイド](../troubleshooting/)
- [システム構成図](../../diagrams/system-architecture.svg)
- [展開手順書](../deployment/)

---

**このガイドは現場での安全で効率的な運用を目的としています。**
**不明な点があれば、無理をせずに管理者に相談してください。**